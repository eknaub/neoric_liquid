<div
  class='announcement-bar full-width'
>
  <span>
    {{ 'sections.header.free_shipping' | t }}
  </span>
</div>

<header class='full-width'>
  <h2 class='header__title'>
    <a href='{{ routes.root_url }}'>
      <img src='{{ 'logo-neori.png' | asset_url }}' alt='Logo' style='height: 3rem;'>
    </a>
  </h2>

  <div class='header__menu'>
    {% for link in section.settings.menu.links %}
      {{ link.title | link_to: link.url }}
    {% endfor %}
  </div>

  <div class='mobile__menu'>
    <a class='mobile__menu-close'>
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='24'
        height='24'
        viewBox='0 0 24 24'
        fill='none'
        stroke='currentColor'
        stroke-width='2'
        stroke-linecap='round'
        stroke-linejoin='round'
      >
        <line x1='18' y1='6' x2='6' y2='18'></line>
        <line x1='6' y1='6' x2='18' y2='18'></line>
      </svg>
    </a>
    {% for link in section.settings.menu.links %}
      <div class='mobile__menu-item'>
        {{ link.title | link_to: link.url }}
      </div>
    {% endfor %}
  </div>

  <div class='header__icons'>
    <a href='{{ routes.cart_url }}'>
      {% if cart.item_count > 0 %}
        <sup>{{ cart.item_count }}</sup>
      {% endif %}

      {{ 'icon-cart.svg' | inline_asset_content }}
    </a>
    <a class='menu-toggle' href='javascript:void(0);'>
      <svg xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' width='100' height='100' viewBox='0 0 50 50'>
        <path d="M 0 9 L 0 11 L 50 11 L 50 9 Z M 0 24 L 0 26 L 50 26 L 50 24 Z M 0 39 L 0 41 L 50 41 L 50 39 Z"></path>
      </svg>
    </a>
  </div>
</header>

{% stylesheet %}
  .mobile__menu {
    display: none;
    flex-direction: column;
    background-color: var(--color-background);
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 1000;
    padding-top: 6rem;
  }
  .mobile__menu-close {
    position: absolute;
    top: 1.5rem;
    right: 2rem;
    width: 2.5rem;
    height: 2.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }
  .mobile__menu-close svg {
    width: 2rem;
    height: 2rem;
  }
  .mobile__menu-item {
    padding: 1.5rem 2rem;
    border-bottom: 1px solid var(--color-border);
    font-size: 1.2rem;
  }
  header {
    height: 5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 3rem;
  }
  header a {
    position: relative;
    text-decoration: none;
    color: var(--color-foreground);
  }
  header a sup {
    position: absolute;
    left: 100%;
    overflow: hidden;
    max-width: var(--page-margin);
  }
  header svg {
    width: 2rem;
  }
  header .header__menu,
  header .header__icons {
    display: flex;
    gap: 1rem;
  }
  .menu-toggle {
    display: none;
  }
  @media (max-width: 768px) {
    .menu-toggle {
      display: inline-block;
    }
    header .header__menu {
      display: none;
    }
  }
  div .announcement-bar {
    background-color: #5f5f5f;
    color: white;
    text-align: center;
    padding: 1rem;
    font-size: 1rem;
    font-weight: bold;
  }
{% endstylesheet %}

{% javascript %}
  document.addEventListener('DOMContentLoaded', function () {
    const menuToggle = document.querySelector('.menu-toggle');
    const menuClose = document.querySelector('.mobile__menu-close');
    const mobileMenu = document.querySelector('.mobile__menu');

    if (menuToggle && mobileMenu) {
      menuToggle.addEventListener('click', function (e) {
        e.preventDefault();
        mobileMenu.style.display = mobileMenu.style.display === 'flex' ? 'none' : 'flex';
      });
    }

    if (menuClose && mobileMenu) {
      menuClose.addEventListener('click', function (e) {
        e.preventDefault();
        mobileMenu.style.display = 'none';
      });
    }
  });
{% endjavascript %}

{% schema %}
{
  "name": "t:general.header",
  "settings": [
    {
      "type": "link_list",
      "id": "menu",
      "label": "t:labels.menu"
    }
  ]
}
{% endschema %}
